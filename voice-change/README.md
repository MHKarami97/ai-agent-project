# 🎙️ صداگذاری امن - تغییر صدا برای محافظت از هویت

یک برنامه تحت وب کاملاً فارسی برای تغییر pitch و سرعت فایل‌های صوتی به منظور محافظت از هویت صوتی. این برنامه بدون نیاز به سرور و به صورت کاملاً محلی در مرورگر کار می‌کند.

## ✨ ویژگی‌ها

### 🎵 تغییرات صوتی
- **تغییر Pitch (زیر و بمی صدا)**: از -12 تا +12 سمی‌تون
- **تغییر سرعت پخش**: از 0.5x تا 2.0x
- **کنترل حجم صدا**: از 0 تا 100 درصد
- **پیش‌فرض‌های آماده**: صدای مردانه، زنانه، کودک و حالت عادی

### 💾 مدیریت داده‌ها
- **ذخیره‌سازی محلی**: تمامی داده‌ها در مرورگر شما ذخیره می‌شوند
- **تنظیمات سفارشی**: ذخیره و بارگذاری تنظیمات دلخواه
- **تاریخچه**: نگهداری 20 مورد آخر فایل‌های پردازش شده
- **بدون سرور**: هیچ داده‌ای به سرور ارسال نمی‌شود

### 🎨 رابط کاربری
- **طراحی زیبا و مدرن**: با رنگ‌های جذاب و گرادیانت
- **کاملاً فارسی**: با فونت Vazirmatn
- **واکنش‌گرا (Responsive)**: سازگار با موبایل، تبلت و دسکتاپ
- **Drag & Drop**: بارگذاری آسان فایل با کشیدن و رها کردن
- **انیمیشن‌های نرم**: تجربه کاربری روان و حرفه‌ای

### 🔒 امنیت و حریم خصوصی
- **پردازش محلی**: تمام پردازش‌ها در مرورگر انجام می‌شود
- **بدون آپلود**: فایل‌های شما به هیچ سروری ارسال نمی‌شوند
- **بدون ثبت نام**: نیازی به ساخت حساب کاربری نیست
- **متن‌باز**: کد کاملاً قابل بررسی است

## 📁 ساختار پروژه

```
voice-change/
│
├── index.html              # فایل اصلی HTML
│
├── assets/
│   ├── css/
│   │   └── style.css      # استایل‌های CSS
│   │
│   ├── js/
│   │   └── app.js         # منطق برنامه JavaScript
│   │
│   └── fonts/
│       └── Vazirmatn-Variable.woff2  # فونت فارسی (باید اضافه شود)
│
└── README.md              # این فایل
```

## 🚀 راه‌اندازی

### پیش‌نیازها
- مرورگر مدرن (Chrome، Firefox، Edge، Safari)
- فایل فونت Vazirmatn

### نصب فونت
1. فایل فونت `Vazirmatn-Variable.woff2` را در پوشه `assets/fonts/` قرار دهید
2. فونت از طریق CSS به صورت خودکار بارگذاری می‌شود

### اجرای برنامه
1. فایل `index.html` را در مرورگر باز کنید
2. یا از یک سرور محلی استفاده کنید:
   ```bash
   # با Python
   python -m http.server 8000
   
   # با Node.js (http-server)
   npx http-server
   
   # با PHP
   php -S localhost:8000
   ```
3. به آدرس `http://localhost:8000` بروید

## 📖 نحوه استفاده

### 1️⃣ بارگذاری فایل صوتی
- روی دکمه "انتخاب فایل" کلیک کنید
- یا فایل صوتی را به ناحیه آپلود بکشید و رها کنید
- فرمت‌های پشتیبانی شده: MP3، WAV، OGG، M4A و سایر فرمت‌های صوتی

### 2️⃣ تنظیم پارامترها
- **Pitch**: اسلایدر را برای تغییر زیر و بمی صدا حرکت دهید
  - مقادیر منفی: صدای مردانه‌تر (زیرتر)
  - مقادیر مثبت: صدای زنانه‌تر (بم‌تر)
- **سرعت**: سرعت پخش صدا را تنظیم کنید
- **حجم**: میزان بلندی صدا را کنترل کنید

### 3️⃣ استفاده از پیش‌فرض‌ها
- **صدای مردانه**: Pitch: -4، سرعت: 0.9x
- **عادی**: تنظیمات پیش‌فرض
- **صدای زنانه**: Pitch: +4، سرعت: 1.1x
- **صدای کودک**: Pitch: +8، سرعت: 1.3x

### 4️⃣ دانلود و ذخیره
- روی "دانلود فایل" کلیک کنید تا فایل تغییر یافته دانلود شود
- از "ذخیره تنظیمات" برای ذخیره پیش‌فرض‌های خود استفاده کنید
- تاریخچه فایل‌های پردازش شده به صورت خودکار ذخیره می‌شود

## 🛠️ فناوری‌های استفاده شده

### Frontend
- **HTML5**: ساختار صفحه
- **CSS3**: استایل‌دهی و انیمیشن‌ها
  - Flexbox & Grid
  - Custom Properties (CSS Variables)
  - Animations & Transitions
- **JavaScript (ES6+)**: منطق برنامه
  - Web Audio API
  - Local Storage API
  - File API
  - Drag & Drop API

### Audio Processing
- **Web Audio API**: پردازش صوتی در مرورگر
- **AudioContext**: مدیریت گراف صوتی
- **OfflineAudioContext**: رندر کردن صدای تغییر یافته
- **WAV Encoding**: تبدیل به فرمت WAV

## 🎯 قابلیت‌های پیشرفته

### پردازش صوتی
- **تغییر Pitch**: با استفاده از تکنیک تغییر playbackRate
- **تغییر سرعت**: مستقل از pitch
- **کنترل حجم**: با استفاده از GainNode
- **خروجی با کیفیت**: فرمت WAV 16-bit PCM

### ذخیره‌سازی
- **localStorage**: ذخیره تنظیمات و تاریخچه
- **حداکثر 20 مورد**: در تاریخچه نگهداری می‌شود
- **JSON**: فرمت ذخیره‌سازی داده‌ها

### رابط کاربری
- **Toast Notifications**: اعلان‌های زیبا
- **Loading States**: نمایش وضعیت بارگذاری
- **Error Handling**: مدیریت خطاها
- **Responsive Design**: سازگار با تمام دستگاه‌ها

## 🎨 سفارشی‌سازی

### تغییر رنگ‌ها
رنگ‌های برنامه در فایل `assets/css/style.css` تعریف شده‌اند:

```css
:root {
    --primary-color: #6366f1;
    --primary-dark: #4f46e5;
    --primary-light: #818cf8;
    --success-color: #10b981;
    /* ... */
}
```

### افزودن پیش‌فرض‌های جدید
در فایل `index.html` می‌توانید دکمه‌های پیش‌فرض جدید اضافه کنید:

```html
<button class="btn btn-preset" data-pitch="VALUE" data-speed="VALUE">
    نام پیش‌فرض
</button>
```

### تغییر محدوده تنظیمات
در فایل `index.html` می‌توانید محدوده اسلایدرها را تغییر دهید:

```html
<input type="range" id="pitchControl" min="-12" max="12" value="0" step="0.5">
```

## 🔧 عیب‌یابی

### فایل صوتی پخش نمی‌شود
- مطمئن شوید فایل صحیح است
- فرمت فایل پشتیبانی می‌شود
- مرورگر شما از Web Audio API پشتیبانی می‌کند

### فونت نمایش داده نمی‌شود
- مسیر فایل فونت را بررسی کنید: `assets/fonts/Vazirmatn-Variable.woff2`
- فایل فونت باید در مسیر صحیح قرار داشته باشد
- کنسول مرورگر را برای خطاهای احتمالی بررسی کنید

### تنظیمات ذخیره نمی‌شوند
- مطمئن شوید localStorage در مرورگر فعال است
- حالت خصوصی (Incognito/Private) را امتحان نکنید
- حافظه localStorage پر نشده باشد

### کیفیت صدا پایین است
- از فایل‌های صوتی با کیفیت بالا استفاده کنید
- تغییرات زیاد در pitch کیفیت را کاهش می‌دهد
- از فرمت‌های بدون فشرده‌سازی (WAV، FLAC) استفاده کنید

## 📱 سازگاری مرورگرها

| مرورگر | نسخه حداقل | پشتیبانی |
|--------|------------|----------|
| Chrome | 60+ | ✅ کامل |
| Firefox | 55+ | ✅ کامل |
| Safari | 14+ | ✅ کامل |
| Edge | 79+ | ✅ کامل |
| Opera | 47+ | ✅ کامل |

## ⚡ بهینه‌سازی

### عملکرد
- پردازش به صورت ناهمگام (async)
- استفاده از OfflineAudioContext برای رندرینگ
- بهینه‌سازی DOM manipulation
- Debouncing برای رویدادهای اسلایدر

### حافظه
- آزادسازی URL.createObjectURL
- پاک‌سازی AudioContext
- محدودیت تعداد موارد تاریخچه

## 🔐 امنیت

### محافظت از داده‌ها
- هیچ داده‌ای به سرور ارسال نمی‌شود
- تمام پردازش‌ها در سمت کلاینت انجام می‌شود
- استفاده از Web Audio API امن

### توصیه‌های امنیتی
- فایل‌های صوتی حساس را حذف کنید
- از HTTPS برای هاست کردن استفاده کنید
- تاریخچه را به صورت دوره‌ای پاک کنید

## 📝 مجوز

این پروژه آزاد و متن‌باز است و می‌توانید به هر شکلی از آن استفاده کنید.

## 🤝 مشارکت

برای بهبود این پروژه:
1. کد را بررسی کنید
2. پیشنهادات خود را ارائه دهید
3. باگ‌ها را گزارش کنید
4. ویژگی‌های جدید پیشنهاد دهید

## 📞 پشتیبانی

در صورت بروز مشکل:
1. ابتدا بخش عیب‌یابی را مطالعه کنید
2. کنسول مرورگر را برای خطاها بررسی کنید
3. مطمئن شوید تمام فایل‌ها در مسیر صحیح هستند

## 🌟 ویژگی‌های آینده (پیشنهادی)

- [ ] افزودن فیلترهای صوتی بیشتر (Echo، Reverb، EQ)
- [ ] پشتیبانی از چند فایل همزمان
- [ ] ضبط صدا مستقیم از میکروفون
- [ ] پیش‌نمایش موج صدا (Waveform)
- [ ] صادرات به فرمت‌های مختلف (MP3، OGG)
- [ ] حالت تاریک (Dark Mode)
- [ ] پشتیبانی از چند زبان
- [ ] ذخیره در Cloud (اختیاری)

## 🎓 یادگیری

این پروژه برای یادگیری موارد زیر مناسب است:
- Web Audio API
- File API
- Local Storage
- Async/Await
- DOM Manipulation
- CSS Grid & Flexbox
- Responsive Design
- Audio Processing

## 📚 منابع

### Web Audio API
- [MDN Web Audio API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API)
- [Web Audio API Tutorial](https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Using_Web_Audio_API)

### فونت Vazirmatn
- [Vazirmatn GitHub](https://github.com/rastikerdar/vazirmatn)
- دانلود فونت: از مخزن رسمی دانلود کنید

## ✅ چک‌لیست نصب

- [ ] فایل `index.html` ایجاد شد
- [ ] فایل `assets/css/style.css` ایجاد شد
- [ ] فایل `assets/js/app.js` ایجاد شد
- [ ] پوشه `assets/fonts/` ایجاد شد
- [ ] فونت `Vazirmatn-Variable.woff2` در پوشه fonts قرار گرفت
- [ ] برنامه در مرورگر تست شد
- [ ] تمام ویژگی‌ها کار می‌کنند

---

**نکته مهم**: این برنامه نیازی به نصب یا پیکربندی پیچیده ندارد. فقط فایل فونت را در مسیر مشخص شده قرار دهید و از برنامه استفاده کنید.

**توجه**: برای عملکرد بهتر، از مرورگر Chrome یا Firefox استفاده کنید.

**حریم خصوصی**: تمام پردازش‌ها در مرورگر شما انجام می‌شود و هیچ داده‌ای به سرور ارسال نمی‌شود.

---

ساخته شده با ❤️ برای محافظت از حریم خصوصی صوتی

