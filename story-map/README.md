# Story Map

یک برنامه وب قدرتمند و مدرن برای مدیریت Story Map و Product Roadmap با قابلیت‌های پیشرفته و رابط کاربری زیبا.

## ویژگی‌های کلیدی

### 📊 دو حالت نمایش
- **Story Map**: نمایش سنتی استوری‌ها در ستون‌های عمودی
- **Product Roadmap**: نمایش تایم‌لاین محصول به صورت افقی
- تغییر سریع بین دو حالت
- ذخیره خودکار حالت انتخابی

### 🌍 پشتیبانی دو زبانه
- فارسی (پیش‌فرض) با پشتیبانی کامل RTL
- انگلیسی با پشتیبانی LTR
- تغییر آسان زبان با یک کلیک
- ذخیره‌سازی خودکار ترجیحات زبانی

### 🎨 حالت تاریک/روشن
- دو تم زیبا و حرفه‌ای
- انیمیشن‌های نرم در تغییر تم
- ذخیره خودکار تنظیمات تم
- طراحی یکپارچه در هر دو حالت

### 📋 مدیریت چندین برد
- ایجاد بردهای نامحدود
- تغییر سریع بین بردها
- نام‌گذاری دلخواه برای هر برد
- ذخیره خودکار آخرین برد انتخاب شده

### 📊 سیستم ستون‌بندی
- افزودن ستون‌های نامحدود
- ویرایش نام ستون‌ها
- حذف ستون‌ها با تأیید
- **جابجایی ستون‌ها با Drag & Drop**
- مدیریت آسان استوری‌ها در هر ستون

### 🎯 مدیریت استوری‌ها
- ایجاد استوری با جزئیات کامل
- عنوان، توضیحات و امتیاز
- چهار وضعیت مختلف:
  - ⏳ در انتظار (Pending)
  - 🔄 در حال انجام (In Progress)
  - ✅ تکمیل شده (Completed)
  - ❌ رد شده (Rejected)
- تغییر سریع وضعیت با یک کلیک
- رنگ‌بندی بصری بر اساس وضعیت
- ویرایش و حذف استوری‌ها

### 🎪 Drag & Drop پیشرفته
- **انتقال استوری‌ها بین ستون‌ها**
- **جابجایی ستون‌ها**
- رابط کاربری کشیدن و رها کردن
- انیمیشن‌های نرم و طبیعی
- نمایش بصری محل رها شدن
- پشتیبانی کامل در هر دو حالت نمایش

### 💾 ذخیره‌سازی پیشرفته
- استفاده از IndexedDB برای ذخیره داده‌ها
- ذخیره خودکار تمام تغییرات
- عدم نیاز به بک‌اند یا سرور
- ذخیره تنظیمات در localStorage
- عملکرد سریع و بدون تأخیر

### 📤 Export/Import
- خروجی گرفتن از بردها به فرمت JSON
- وارد کردن بردهای ذخیره شده
- نام‌گذاری خودکار فایل‌های خروجی
- امکان پشتیبان‌گیری و بازیابی

### 🗑️ پاک‌سازی کامل
- پاک کردن تمام محتوای یک برد
- تأییدیه قبل از حذف
- امکان شروع مجدد پروژه

### 📱 طراحی ریسپانسیو
- سازگار با تمام اندازه‌های صفحه
- رابط کاربری بهینه برای موبایل
- تجربه کاربری یکسان در همه دستگاه‌ها
- اسکرول افقی برای بردهای بزرگ

## ساختار پروژه

```
story-map/
├── index.html              # فایل HTML اصلی
├── assets/
│   ├── style.css          # استایل‌های CSS
│   ├── script.js          # منطق JavaScript
│   └── translations.json  # فایل ترجمه‌ها
└── README.md              # مستندات پروژه
```

## نحوه استفاده

### نصب و راه‌اندازی

1. فایل‌های پروژه را در یک پوشه قرار دهید
2. فایل `Vazirmatn-font-face.css` را در پوشه والد قرار دهید
3. فایل `favicon.ico` را در ریشه سایت قرار دهید
4. فایل `index.html` را در مرورگر باز کنید

### شروع کار

1. **انتخاب حالت نمایش**
   - از منوی کشویی بالای صفحه یکی از موارد را انتخاب کنید:
     - Story Map (نمایش عمودی)
     - Product Roadmap (نمایش افقی)

2. **ایجاد برد جدید**
   - روی دکمه "برد جدید" کلیک کنید
   - نام برد را وارد کنید
   - روی "تأیید" کلیک کنید

3. **افزودن ستون**
   - روی دکمه "+ افزودن ستون" کلیک کنید
   - نام ستون را وارد کنید
   - روی "تأیید" کلیک کنید

4. **جابجایی ستون‌ها**
   - ستون را بگیرید و به محل دلخواه بکشید
   - ترتیب ستون‌ها به صورت خودکار ذخیره می‌شود

5. **افزودن استوری**
   - روی "+ افزودن استوری" در ستون مورد نظر کلیک کنید
   - اطلاعات استوری را وارد کنید:
     - عنوان (الزامی)
     - توضیحات (اختیاری)
     - امتیاز (عدد)
     - وضعیت (یکی از چهار گزینه)
   - روی "تأیید" کلیک کنید

6. **انتقال استوری**
   - استوری را بگیرید و به ستون دیگر بکشید
   - استوری به صورت خودکار ذخیره می‌شود

7. **تغییر وضعیت استوری**
   - روی آیکون وضعیت استوری کلیک کنید
   - وضعیت به صورت چرخشی تغییر می‌کند

8. **ویرایش عناصر**
   - برای ویرایش ستون، روی نام آن کلیک کنید
   - برای ویرایش استوری، روی آیکون ویرایش کلیک کنید

9. **حذف عناصر**
   - روی آیکون سطل زباله کلیک کنید
   - حذف را تأیید کنید

10. **خروجی گرفتن**
    - روی دکمه "خروجی" کلیک کنید
    - فایل JSON دانلود می‌شود

11. **وارد کردن برد**
    - روی دکمه "ورودی" کلیک کنید
    - فایل JSON را انتخاب کنید
    - برد به صورت خودکار وارد می‌شود

12. **پاک‌سازی برد**
    - روی دکمه "پاک‌سازی برد" کلیک کنید
    - پاک‌سازی را تأیید کنید
    - تمام ستون‌ها و استوری‌ها حذف می‌شوند

### تنظیمات

#### تغییر زبان
- روی دکمه "EN" یا "فا" در نوار بالا کلیک کنید
- زبان و جهت متن به صورت خودکار تغییر می‌کند

#### تغییر تم
- روی آیکون ماه/خورشید کلیک کنید
- تم بین حالت روشن و تاریک تغییر می‌کند

## حالت‌های نمایش

### Story Map View
- نمایش ستون‌های عمودی
- مناسب برای مدیریت استوری‌ها بر اساس فازهای مختلف
- امکان مشاهده جزئیات کامل استوری‌ها
- رنگ‌بندی بر اساس وضعیت

### Product Roadmap View
- نمایش افقی ستون‌ها به صورت تایم‌لاین
- مناسب برای برنامه‌ریزی محصول
- نمایش فشرده‌تر استوری‌ها
- تمرکز بر اولویت‌ها و زمان‌بندی
- رنگ‌بندی بر اساس وضعیت

## معماری فنی

### تکنولوژی‌های استفاده شده

- **HTML5**: ساختار معنایی و مدرن
- **CSS3**: استایل‌دهی پیشرفته با متغیرهای CSS
- **JavaScript (ES5)**: منطق برنامه با استفاده از `var`
- **IndexedDB API**: ذخیره‌سازی داده‌های محلی
- **localStorage API**: ذخیره تنظیمات کاربر
- **Drag and Drop API**: قابلیت کشیدن و رها کردن

### الگوهای طراحی

#### Module Pattern
برنامه از الگوی Module Pattern برای encapsulation استفاده می‌کند:

```javascript
var StoryMapApp = (function() {
    'use strict';
    // Private members
    var State = { ... };
    var Elements = { ... };
    
    // Public API
    return {
        init: init
    };
})();
```

#### Constructor Pattern
برای ایجاد اشیاء از Constructor Pattern استفاده شده:

```javascript
function Board(id, name, columns) {
    this.id = id || generateId();
    this.name = name || 'New Board';
    this.columns = columns || [];
}
```

#### Observer Pattern
رویدادها با استفاده از Event Listeners مدیریت می‌شوند:

```javascript
Elements.themeToggle.addEventListener('click', toggleTheme);
```

### ساختار داده

#### Board Object
```javascript
{
  id: "unique-id",
  name: "Board Name",
  columns: [Column, ...],
  createdAt: "2026-01-04T...",
  updatedAt: "2026-01-04T..."
}
```

#### Column Object
```javascript
{
  id: "unique-id",
  title: "Column Title",
  stories: [Story, ...]
}
```

#### Story Object
```javascript
{
  id: "unique-id",
  title: "Story Title",
  description: "Story Description",
  points: 5,
  status: "pending|in-progress|completed|rejected",
  createdAt: "2026-01-04T...",
  updatedAt: "2026-01-04T..."
}
```

### IndexedDB Schema

- **Database Name**: `StoryMapDB`
- **Version**: 1
- **Object Store**: `boards`
  - **KeyPath**: `id`
  - **Index**: `name` (non-unique)

### localStorage Keys

- `language`: زبان انتخاب شده (fa/en)
- `theme`: تم انتخاب شده (light/dark)
- `currentBoardId`: شناسه برد فعلی

## بهینه‌سازی عملکرد

### استراتژی‌های بهینه‌سازی

1. **Lazy Loading**: فقط برد فعلی بارگذاری می‌شود
2. **Event Delegation**: استفاده بهینه از event listeners
3. **Debouncing**: جلوگیری از فراخوانی‌های مکرر
4. **Caching**: ذخیره ترجمه‌ها در حافظه
5. **Minimal Reflows**: تغییرات DOM به حداقل می‌رسد

### حافظه و ذخیره‌سازی

- **IndexedDB**: محدودیت ~50MB (بسته به مرورگر)
- **localStorage**: محدودیت ~5-10MB
- **Memory Usage**: بهینه با Garbage Collection

## سازگاری مرورگرها

### مرورگرهای پشتیبانی شده

- ✅ Chrome/Edge 23+
- ✅ Firefox 16+
- ✅ Safari 10+
- ✅ Opera 15+
- ✅ Mobile Browsers (iOS Safari, Chrome Mobile)

### قابلیت‌های مورد نیاز

- IndexedDB API
- localStorage API
- Drag and Drop API
- ES5 JavaScript
- CSS3 Variables
- Flexbox

## امنیت

### استراتژی‌های امنیتی

1. **Client-Side Only**: بدون ارسال داده به سرور
2. **No External Dependencies**: عدم نیاز به کتابخانه خارجی
3. **XSS Protection**: استفاده از textContent به جای innerHTML
4. **Data Validation**: اعتبارسنجی ورودی‌ها
5. **Sanitization**: پاک‌سازی داده‌های ورودی

## دسترسی‌پذیری (Accessibility)

### ویژگی‌های دسترسی‌پذیری

- استفاده از تگ‌های معنایی HTML5
- پشتیبانی کامل از کیبورد (ESC برای بستن مودال)
- Contrast Ratio مناسب برای متن
- Focus States واضح
- تگ‌های ARIA (در صورت نیاز)

## توسعه آینده

### پیشنهادات برای توسعه

1. **فیلترینگ و جستجو**: جستجو در استوری‌ها
2. **چک‌لیست**: افزودن چک‌لیست به استوری‌ها
3. **برچسب‌گذاری**: اضافه کردن تگ‌ها به استوری‌ها
4. **تاریخچه**: نمایش تاریخچه تغییرات
5. **نظرات**: امکان افزودن نظر به استوری‌ها
6. **اعضا**: اختصاص استوری‌ها به اعضای تیم
7. **پیوست‌ها**: امکان اضافه کردن فایل‌ها
8. **گزارش‌گیری**: نمایش آمار و گزارش‌ها
9. **قالب‌های آماده**: قالب‌های پیش‌ساخته برد
10. **همگام‌سازی**: همگام‌سازی بین دستگاه‌ها
11. **چاپ**: امکان چاپ بردها
12. **اشتراک‌گذاری**: اشتراک‌گذاری بردها با دیگران
13. **نمودارها**: نمایش گرافیکی پیشرفت
14. **تخمین زمان**: افزودن تخمین زمان به استوری‌ها
15. **وابستگی‌ها**: تعریف وابستگی بین استوری‌ها

## رفع مشکلات

### مشکلات رایج و راه‌حل‌ها

#### برد نمایش داده نمی‌شود
- مطمئن شوید یک برد ایجاد کرده‌اید
- یک برد از لیست انتخاب کنید
- Console را برای خطاها بررسی کنید

#### داده‌ها ذخیره نمی‌شوند
- مطمئن شوید مرورگر از IndexedDB پشتیبانی می‌کند
- حافظه مرورگر را بررسی کنید
- حالت ناشناس (Incognito) را غیرفعال کنید

#### Drag & Drop کار نمی‌کند
- مطمئن شوید مرورگر به‌روز است
- JavaScript را در مرورگر فعال کنید
- از مرورگر پشتیبانی شده استفاده کنید

#### فونت صحیح نمایش داده نمی‌شود
- مطمئن شوید فایل `Vazirmatn-font-face.css` در مسیر صحیح قرار دارد
- مسیر نسبی فونت را بررسی کنید
- Cache مرورگر را پاک کنید

#### فایل Import کار نمی‌کند
- مطمئن شوید فایل JSON معتبر است
- ساختار فایل را بررسی کنید
- از فایل خروجی این برنامه استفاده کنید

## نکات مهم

### نکات برای استفاده بهتر

1. **پشتیبان‌گیری منظم**: به صورت دوره‌ای از بردهای خود Export بگیرید
2. **نام‌گذاری واضح**: از نام‌های واضح برای بردها و ستون‌ها استفاده کنید
3. **استفاده از وضعیت‌ها**: وضعیت استوری‌ها را به‌روز نگه دارید
4. **امتیازدهی**: امتیاز مناسب به استوری‌ها اختصاص دهید
5. **توضیحات**: توضیحات کامل برای استوری‌ها بنویسید

## مجوز و استفاده

این پروژه یک برنامه تحت وب خالص و مستقل است که می‌توانید آزادانه از آن استفاده کنید.

### قابلیت‌های برجسته

- بدون نیاز به سرور یا بک‌اند
- بدون نیاز به نصب
- بدون وابستگی به کتابخانه خارجی
- کاملاً رایگان
- متن‌باز و قابل توسعه

## پشتیبانی

برای مشکلات فنی:
1. Console مرورگر را بررسی کنید
2. از آخرین نسخه مرورگر استفاده کنید
3. IndexedDB را در تنظیمات مرورگر فعال کنید
4. فایل‌های پروژه را کامل بارگذاری کنید

## نسخه

**نسخه فعلی**: 1.0.0  
**تاریخ انتشار**: 4 ژانویه 2026  
**سازگاری**: تمام مرورگرهای مدرن

---

**توسعه یافته با**: HTML5, CSS3, JavaScript  
**طراحی**: Modern & Minimal  
**رابط کاربری**: Responsive & Intuitive  
**عملکرد**: Fast & Optimized

