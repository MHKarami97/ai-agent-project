<!DOCTYPE html>

<html dir="rtl" lang="fa">
<head>
<link href="/favicon.ico" rel="icon" type="image/x-icon"/>
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon"/>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title data-i18n="title">ุชุดุฎุต ูุชู ุงุฒ ุชุตูุฑ</title>
<link href="../Vazirmatn-font-face.css" rel="stylesheet"/>
<link href="assets/style.css" rel="stylesheet"/>
<link href="../assets/tool-wrapper.css" rel="stylesheet"/>
</head>
<body>
<header>
<div class="container">
<h1 data-i18n="heading_0">ุชุดุฎุต ูุชู ุงุฒ ุชุตูุฑ</h1>
<p class="subtitle" data-i18n="text_subtitle_0">ุขูพููุฏ ฺฉูุฏุ ูุชู ุฑุง ุงุณุชุฎุฑุงุฌ ฺฉูุฏ</p>
<div class="network-status" id="networkStatus" style="display: none;">
<span class="status-indicator"></span>
<span class="status-text" data-i18n="text_status_text_2">ุจุฑุฑุณ ุงุชุตุงู...</span>
</div>
</div>
</header>
<main>
<div class="container">
<!-- Upload Section -->
<section class="upload-section">
<div class="upload-area" id="uploadArea">
<div class="upload-content">
<div class="upload-icon">๐ท</div>
<h3 data-i18n="heading_1">ุชุตูุฑ ุฎูุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ</h3>
<p>ูุงู ุฑุง ุงูุฌุง ุจฺฉุดุฏ ุง ฺฉูฺฉ ฺฉูุฏ</p>
<input accept="image/*" hidden="" id="imageInput" type="file"/>
<button class="btn btn-primary" data-i18n="button_0" onclick="document.getElementById('imageInput').click()" type="button">
                            ุงูุชุฎุงุจ ูุงู
                        </button>
</div>
</div>
</section>
<!-- Language Selection -->
<section class="language-section">
<h3 data-i18n="heading_2">ุฒุจุงู ูุชู:</h3>
<select class="language-select" id="languageSelect">
<option value="fas">ูุงุฑุณ</option>
<option value="eng">ุงูฺฏูุณ</option>
<option value="ara">ุนุฑุจ</option>
<option value="fra">ูุฑุงูุณู</option>
<option value="deu">ุขููุงู</option>
<option value="spa">ุงุณูพุงููู</option>
<option value="tur">ุชุฑฺฉ</option>
<option value="rus">ุฑูุณ</option>
<option value="chi_sim">ฺู ุณุงุฏู</option>
<option value="jpn">ฺุงูพู</option>
</select>
<div class="language-note">
<small>ุชูุฌู: ุจุฑุง ุฒุจุงูโูุง ุบุฑ ุงุฒ ุงูฺฏูุณุ ุงุชุตุงู ุงูุชุฑูุช ุจุฑุง ุงููู ุจุงุฑ ุถุฑูุฑ ุงุณุช</small>
</div>
</section>
<!-- Preview Section -->
<section class="preview-section" id="previewSection" style="display: none;">
<h3 data-i18n="heading_3">ูพุดโููุงุด ุชุตูุฑ:</h3>
<div class="image-preview">
<img alt="ูพุดโููุงุด" id="previewImage"/>
</div>
<button class="btn btn-success" data-i18n="button_1" id="processBtn" type="button">
                    ุดุฑูุน ุชุดุฎุต ูุชู
                </button>
</section>
<!-- Progress Section -->
<section class="progress-section" id="progressSection" style="display: none;">
<div class="progress-container">
<div class="progress-bar">
<div class="progress-fill" id="progressFill"></div>
</div>
<p class="progress-text" data-i18n="text_progress_text_3" id="progressText">ุฏุฑ ุญุงู ูพุฑุฏุงุฒุด...</p>
</div>
</section>
<!-- Result Section -->
<section class="result-section" id="resultSection" style="display: none;">
<h3 data-i18n="heading_4">ูุชู ุงุณุชุฎุฑุงุฌ ุดุฏู:</h3>
<div class="result-container">
<textarea id="resultText" readonly=""></textarea>
<div class="result-actions">
<button class="btn btn-secondary" data-i18n="button_2" id="copyBtn" type="button">
                            ฺฉูพ ูุชู
                        </button>
<button class="btn btn-secondary" data-i18n="button_3" id="downloadBtn" type="button">
                            ุฏุงูููุฏ ูุชู
                        </button>
<button class="btn btn-info" data-i18n="button_4" id="saveBtn" type="button">
                            ุฐุฎุฑู ุฏุฑ ุชุงุฑุฎฺู
                        </button>
<button class="btn btn-warning" data-i18n="button_5" id="retryBtn" style="display: none;" type="button">
                            ุชูุงุด ูุฌุฏุฏ OCR
                        </button>
</div>
</div>
</section>
<!-- History Section -->
<section class="history-section">
<h3 data-i18n="heading_5">ุชุงุฑุฎฺู:</h3>
<div class="history-container" id="historyContainer">
<p class="no-history" data-i18n="text_no_history_4">ูฺ ุชุงุฑุฎฺูโุง ูุฌูุฏ ูุฏุงุฑุฏ</p>
</div>
<button class="btn btn-danger" data-i18n="button_6" id="clearHistoryBtn" style="display: none;" type="button">
                    ูพุงฺฉ ฺฉุฑุฏู ุชุงุฑุฎฺู
                </button>
</section>
</div>
</main>
<footer>
<p>ุฌุนุจู ุงุจุฒุงุฑ</p>
</footer>
<!-- Toast Notification -->
<div class="toast" id="toast"></div>
<!-- Scripts -->
<script>
        // Enhanced error handling for Tesseract.js loading
        let tesseractLoaded = false;
        
        function loadTesseractFallback() {
            if (tesseractLoaded) return;
            
            console.log('๐ Loading Tesseract.js fallback...');
            const script = document.createElement('script');
            script.src = 'https://unpkg.com/tesseract.js@4.1.1/dist/tesseract.min.js';
            script.onload = () => {
                tesseractLoaded = true;
                console.log('โ Tesseract.js fallback loaded successfully');
            };
            script.onerror = () => {
                console.error('โ All Tesseract.js sources failed - demo mode only');
            };
            document.head.appendChild(script);
        }
        
        window.addEventListener('error', function(e) {
            if (e.filename && e.filename.includes('tesseract')) {
                console.error('โ Tesseract.js failed to load:', e);
                loadTesseractFallback();
            }
        });
        
        // Test if Tesseract loads properly
        setTimeout(() => {
            if (typeof Tesseract === 'undefined') {
                console.warn('โ๏ธ Tesseract.js not detected, loading fallback...');
                loadTesseractFallback();
            } else {
                tesseractLoaded = true;
                console.log('โ Tesseract.js loaded successfully');
            }
        }, 3000);
    </script>
<!-- Primary Tesseract.js source -->
<script onerror="console.error('โ Primary Tesseract.js failed'); loadTesseractFallback()" onload="tesseractLoaded = true; console.log('โ Primary Tesseract.js loaded')" src="https://cdn.jsdelivr.net/npm/tesseract.js@4.1.1/dist/tesseract.min.js"></script>
<script src="assets/script.js"></script>
<script src="../assets/tool-wrapper.js"></script>
</body>
</html>
