# Opportunity Canvas

یک برنامه تحت وب برای مدیریت بوم فرصت (Opportunity Canvas) با قابلیت‌های پیشرفته و پشتیبانی کامل از دو زبان فارسی و انگلیسی.

## ویژگی‌های اصلی

### 🌐 پشتیبانی دوزبانه
- فارسی (راست‌چین) به عنوان زبان پیش‌فرض
- انگلیسی (چپ‌چین)
- تغییر زبان آنی بدون نیاز به بارگذاری مجدد
- ذخیره‌سازی خودکار تنظیمات زبان

### 🎨 حالت تاریک/روشن
- تم روشن و تاریک با طراحی زیبا و مدرن
- تغییر آسان بین تم‌ها
- ذخیره‌سازی خودکار تنظیمات تم

### 📋 مدیریت چندین بورد
- ایجاد بوردهای متعدد
- تغییر نام بوردها
- حذف بوردها
- انتخاب سریع بین بوردها
- ذخیره‌سازی خودکار آخرین بورد انتخاب شده

### 🔄 Drag & Drop پیشرفته
- جابجایی آیتم‌ها بین بخش‌های مختلف
- تغییر ترتیب آیتم‌ها در هر بخش
- انیمیشن‌های روان و حرفه‌ای
- پشتیبانی کامل از Touch Events

### ✏️ مدیریت آیتم‌ها
- افزودن آیتم به هر بخش
- ویرایش آیتم‌ها
- حذف آیتم‌ها
- نمایش تاریخ ایجاد و به‌روزرسانی

### 💾 ذخیره‌سازی داده
- استفاده از IndexedDB برای ذخیره‌سازی بوردها و آیتم‌ها
- استفاده از LocalStorage برای تنظیمات کاربر (زبان، تم، بورد فعلی)
- عدم نیاز به بک‌اند یا سرور
- ذخیره‌سازی خودکار تمام تغییرات

### 📤 Import/Export
- خروجی بورد به فرمت JSON
- ورود بورد از فایل JSON
- اشتراک‌گذاری آسان بوردها
- پشتیبان‌گیری و بازیابی داده‌ها

### 🗑️ پاک‌سازی
- پاک کردن کامل یک بورد (حذف تمام آیتم‌ها)
- حفظ ساختار بورد پس از پاک‌سازی
- تایید کاربر قبل از پاک‌سازی

### 📱 طراحی ریسپانسیو
- سازگار با تمام اندازه صفحه‌نمایش
- طراحی موبایل‌محور
- رابط کاربری بهینه برای تبلت و دسکتاپ

## بخش‌های بوم فرصت

برنامه شامل 8 بخش اصلی است:

1. **مشکلات و نیازها** - شناسایی مشکلات و نیازهای بازار
2. **راه‌حل پیشنهادی** - ارائه راه‌حل برای مشکلات شناسایی شده
3. **مزایا و ارزش‌ها** - تعریف ارزش‌های ایجاد شده
4. **کاربران و مشتریان** - شناسایی گروه‌های هدف
5. **معیارهای موفقیت** - تعیین شاخص‌های اندازه‌گیری موفقیت
6. **کانال‌های دسترسی** - تعریف کانال‌های ارتباطی با مشتریان
7. **هزینه‌ها** - شناسایی هزینه‌های اصلی
8. **منابع درآمد** - تعریف جریان‌های درآمدی

## ساختار پروژه

```
opportunity-canvas/
│
├── index.html                 # فایل HTML اصلی
│
├── assets/                    # پوشه دارایی‌های استاتیک
│   ├── style.css             # استایل‌های CSS
│   ├── script.js             # منطق برنامه با JavaScript خالص
│   └── translations.json     # فایل ترجمه‌های دوزبانه
│
└── README.md                  # مستندات پروژه
```

## نصب و راه‌اندازی

### پیش‌نیازها

- یک مرورگر مدرن (Chrome, Firefox, Safari, Edge)
- یک وب‌سرور ساده (برای اجرای محلی)

### ⚠️ نکته بسیار مهم

**این برنامه باید از طریق یک وب‌سرور اجرا شود** و نمی‌تواند مستقیماً با دوبار کلیک روی `index.html` باز شود. دلیل این امر استفاده از Fetch API برای بارگذاری فایل `translations.json` است که به دلایل امنیتی در پروتکل `file://` کار نمی‌کند.

### روش‌های اجرا

### روش اول (ساده‌ترین): استفاده از فایل Batch

```bash
# دوبار کلیک روی فایل زیر:
start-server.bat
```

مرورگر به صورت خودکار باز می‌شود و برنامه اجرا می‌شود.

### روش دوم: استفاده از Python

```bash
# در پوشه پروژه دستور زیر را اجرا کنید:
python -m http.server 8000
```

سپس در مرورگر به آدرس `http://localhost:8000` بروید.

### روش سوم: استفاده از Node.js

```bash
# نصب http-server (فقط یک بار)
npm install -g http-server

# اجرای سرور
http-server -p 8000
```

سپس در مرورگر به آدرس `http://localhost:8000` بروید.

### روش چهارم: استفاده از PHP

```bash
php -S localhost:8000
```

سپس در مرورگر به آدرس `http://localhost:8000` بروید.

### روش پنجم: استفاده از VS Code

اگر از Visual Studio Code استفاده می‌کنید، می‌توانید افزونه "Live Server" را نصب کنید و با کلیک راست روی فایل `index.html` گزینه "Open with Live Server" را انتخاب کنید.

## راهنمای استفاده

### ایجاد بورد جدید

1. روی دکمه + در هدر کلیک کنید
2. نام بورد را وارد کنید
3. روی تایید کلیک کنید

### افزودن آیتم

1. روی دکمه + در هر بخش کلیک کنید
2. متن آیتم را وارد کنید
3. روی تایید کلیک کنید

### ویرایش آیتم

1. ماوس را روی آیتم ببرید
2. روی آیکون ویرایش کلیک کنید
3. متن جدید را وارد کنید
4. روی تایید کلیک کنید

### حذف آیتم

1. ماوس را روی آیتم ببرید
2. روی آیکون حذف (سطل زباله) کلیک کنید

### جابجایی آیتم

1. آیتم را با ماوس بگیرید (Drag)
2. آن را به بخش یا موقعیت دلخواه بکشید (Drop)

### خروجی بورد

1. روی آیکون دانلود در هدر کلیک کنید
2. فایل JSON به صورت خودکار دانلود می‌شود

### ورود بورد

1. روی آیکون آپلود در هدر کلیک کنید
2. فایل JSON را انتخاب کنید
3. بورد به صورت خودکار وارد می‌شود

### پاک کردن بورد

1. روی آیکون پاک کردن (دایره با X) کلیک کنید
2. در دیالوگ تایید، گزینه تایید را انتخاب کنید

### تغییر زبان

روی آیکون کره زمین در هدر کلیک کنید. زبان به صورت خودکار بین فارسی و انگلیسی تغییر می‌کند.

### تغییر تم

روی آیکون ماه در هدر کلیک کنید. تم به صورت خودکار بین روشن و تاریک تغییر می‌کند.

## معماری و ساختار کد

### الگوهای طراحی استفاده شده

#### 1. Module Pattern
کل برنامه در یک IIFE (Immediately Invoked Function Expression) قرار دارد تا از آلودگی Scope جلوگیری شود.

#### 2. Class-Based Architecture
برنامه شامل کلاس‌های زیر است:

- **StorageManager**: مدیریت ذخیره‌سازی در IndexedDB
- **Board**: مدل داده بورد و عملیات مرتبط
- **I18n**: مدیریت ترجمه و چندزبانگی
- **UI**: مدیریت رابط کاربری و رندرینگ
- **App**: کلاس اصلی که تمام بخش‌ها را مدیریت می‌کند

#### 3. Single Responsibility Principle
هر کلاس مسئولیت مشخصی دارد و به اصل SRP پایبند است.

#### 4. Observer Pattern
استفاده از Event Listeners برای مدیریت تعاملات کاربر

### تکنولوژی‌ها

- **HTML5**: ساختار معنایی و مدرن
- **CSS3**: استایل‌دهی پیشرفته با متغیرهای CSS
- **JavaScript (ES6+)**: منطق برنامه با استفاده از ویژگی‌های مدرن
- **IndexedDB**: پایگاه داده مرورگر برای ذخیره‌سازی بوردها
- **LocalStorage**: ذخیره‌سازی تنظیمات کاربر
- **Drag and Drop API**: پیاده‌سازی قابلیت کشیدن و رها کردن

### ویژگی‌های کد

- استفاده از `var` برای تعریف متغیرها
- کامنت‌گذاری در صورت ضرورت
- کد تمیز و خودتوضیح
- رعایت اصول OOP
- بهینه‌سازی عملکرد

## مرورگرهای پشتیبانی شده

- Chrome/Edge (نسخه 80+)
- Firefox (نسخه 75+)
- Safari (نسخه 13+)
- Opera (نسخه 67+)

## فونت

برنامه از فونت وزیرمتن استفاده می‌کند. فایل فونت باید در مسیر والد پروژه با نام `Vazirmatn-font-face.css` قرار داشته باشد.

مسیر فونت در فایل `index.html`:
```html
<link rel="stylesheet" href="../Vazirmatn-font-face.css">
```

برای دانلود فونت وزیرمتن می‌توانید به وب‌سایت رسمی مراجعه کنید:
https://github.com/rastikerdar/vazirmatn

## امنیت

- استفاده از IndexedDB برای ذخیره‌سازی محلی داده‌ها
- عدم ارسال داده به سرور خارجی
- اعتبارسنجی ورودی‌های کاربر
- جلوگیری از XSS با استفاده از textContent به جای innerHTML

## عملکرد و بهینه‌سازی

- استفاده از Event Delegation برای کاهش Event Listeners
- بهینه‌سازی Rendering با استفاده از DocumentFragment
- استفاده از CSS Transitions برای انیمیشن‌های روان
- Lazy Loading برای فایل ترجمه
- کش کردن داده‌ها در حافظه

## عیب‌یابی (Troubleshooting)

### مشکل: دکمه‌ها کار نمی‌کنند

این مشکل معمولاً زمانی رخ می‌دهد که برنامه مستقیماً از فایل سیستم (`file://`) باز شده باشد.

**راه‌حل:**

1. **اطمینان حاصل کنید که از یک وب‌سرور استفاده می‌کنید**
   - URL باید با `http://localhost` شروع شود نه `file://`

2. **Console مرورگر را بررسی کنید** (F12 یا کلیک راست > Inspect > Console)
   - به دنبال خطاهای قرمز بگردید
   - باید پیام‌های زیر را ببینید:
     ```
     ✓ Initializing storage...
     ✓ Storage initialized successfully
     ✓ Loading translations...
     ✓ Translations loaded successfully
     ✓ App initialized successfully!
     ```

3. **فایل‌ها را بررسی کنید**
   - `assets/script.js` - باید موجود باشد
   - `assets/style.css` - باید موجود باشد
   - `assets/translations.json` - باید موجود باشد

4. **صفحه را Refresh کنید**
   - یک بار F5 یا Ctrl+R را بزنید
   - اگر کار نکرد، Hard Refresh کنید (Ctrl+Shift+R یا Ctrl+F5)

5. **Cache مرورگر را پاک کنید**
   - F12 > Network > "Disable cache" را فعال کنید
   - صفحه را مجدداً بارگذاری کنید

### مشکل: فونت درست نمایش داده نمی‌شود

**راه‌حل:**
- اطمینان حاصل کنید که فایل `Vazirmatn-font-face.css` در پوشه والد پروژه قرار دارد
- مسیر فونت در `index.html` خط 7: `<link rel="stylesheet" href="../Vazirmatn-font-face.css">`

### مشکل: خطای CORS

اگر خطای CORS مشاهده کردید، یعنی برنامه از طریق وب‌سرور اجرا نشده است.

**راه‌حل:**
- از یکی از روش‌های توضیح داده شده در بخش "نصب و راه‌اندازی" استفاده کنید

### مشکل: IndexedDB کار نمی‌کند

**راه‌حل:**
- اطمینان حاصل کنید که مرورگر شما از IndexedDB پشتیبانی می‌کند
- حالت Private/Incognito ممکن است IndexedDB را غیرفعال کند
- از یک مرورگر مدرن استفاده کنید (Chrome 80+, Firefox 75+, Safari 13+)

### راهنمای کامل عیب‌یابی

برای راهنمای کامل و تصویری، فایل `help.html` را باز کنید.

## مشارکت

برای مشارکت در توسعه این پروژه:

1. پروژه را Fork کنید
2. یک Branch جدید ایجاد کنید
3. تغییرات خود را Commit کنید
4. Branch خود را Push کنید
5. یک Pull Request ایجاد کنید

## مجوز

این پروژه تحت مجوز MIT منتشر شده است.

## تماس و پشتیبانی

برای گزارش مشکلات یا پیشنهادات، لطفاً از بخش Issues در مخزن پروژه استفاده کنید.

## نسخه

**نسخه فعلی**: 1.0.0

## تاریخچه تغییرات

### نسخه 1.0.0 (2026-01-04)
- انتشار اولیه
- پشتیبانی کامل از دو زبان فارسی و انگلیسی
- قابلیت Drag & Drop
- مدیریت چندین بورد
- Import/Export
- حالت تاریک/روشن
- طراحی ریسپانسیو

## تشکر

از تمامی کسانی که در توسعه این پروژه مشارکت داشته‌اند، تشکر می‌کنیم.

