# محاسبه‌گر واقعی سود وام بانکی - ایران

یک برنامه تحت وب برای محاسبه دقیق هزینه واقعی وام‌های بانکی در ایران با در نظر گرفتن تمام هزینه‌ها و شرایط واقعی.

## 🎯 ویژگی‌ها

### محاسبات جامع
- **محاسبه نرخ سود واقعی (APR)**: نرخ سود واقعی که پرداخت می‌کنید، نه آنچه بانک اعلام می‌کند
- **دو روش محاسبه سود**: سود متناقص (کاهشی) و سود ثابت
- **در نظر گرفتن تمام هزینه‌ها**:
  - کارمزد اولیه بانک
  - کسورات اولیه
  - هزینه بیمه وام
  - هزینه فرصت سپرده قبلی
  - تأثیر تورم

### تحلیل‌های پیشرفته
- محاسبه قسط ماهانه دقیق
- جدول کامل اقساط (Amortization Schedule)
- محاسبه مبلغ واقعی دریافتی
- محاسبه کل بازپرداختی
- تاریخ پایان وام
- توصیه هوشمند برای گرفتن یا نگرفتن وام

### قابلیت‌های کاربری
- رابط کاربری فارسی و RTL
- فونت Vazirmatn برای تمام عناصر
- ذخیره‌سازی محاسبات در مرورگر (IndexedDB)
- تاریخچه محاسبات قبلی
- بارگذاری مجدد محاسبات ذخیره شده
- طراحی ریسپانسیو برای موبایل و تبلت
- انیمیشن‌های زیبا برای نمایش اعداد

## 🚀 نحوه استفاده

### روش اول: استفاده آنلاین از GitHub Pages

1. پروژه را Fork کنید یا دانلود کنید
2. به تنظیمات مخزن GitHub بروید
3. در بخش Pages، برنچ `main` و پوشه `root` را انتخاب کنید
4. لینک GitHub Pages شما آماده است!

### روش دوم: اجرای محلی

1. فایل‌ها را دانلود کنید:
```bash
git clone https://github.com/your-username/debt.git
cd debt
```

2. فایل `index.html` را در مرورگر باز کنید:
   - با دابل کلیک روی فایل
   - یا با یک سرور محلی ساده:

```bash
# Python 3
python -m http.server 8000

# Node.js (با نصب http-server)
npx http-server
```

3. به آدرس `http://localhost:8000` بروید

## 📋 نحوه کار با برنامه

### ورودی‌های اصلی:

1. **نام بانک**: نام بانکی که از آن وام می‌گیرید
2. **مبلغ وام**: مبلغی که بانک به شما وام می‌دهد (به تومان)
3. **مبلغ سپرده قبلی**: پولی که باید قبل از وام در بانک بخوابد
4. **مدت سپرده‌گذاری**: چند ماه باید پول را نگه دارید
5. **نرخ سود بانک**: درصد سود سالانه که بانک اعلام می‌کند
6. **مدت بازپرداخت**: تعداد ماه‌های بازپرداخت
7. **کارمزد اولیه**: درصد کارمزدی که بانک از اول کسر می‌کند
8. **کسر اولیه بانک**: مبلغ ثابتی که بانک کسر می‌کند
9. **بیمه وام**: درصد بیمه سالانه
10. **نرخ تورم پیش‌بینی**: برای محاسبه ارزش واقعی پول
11. **روش محاسبه**: سود متناقص یا سود ثابت

### خروجی‌های برنامه:

#### نتایج اصلی:
- **نرخ سود واقعی**: درصد واقعی سودی که پرداخت می‌کنید
- **مبلغ دریافتی واقعی**: پولی که واقعاً به دستتان می‌رسد
- **قسط ماهانه**: مبلغی که هر ماه باید بپردازید
- **کل بازپرداخت**: مجموع کل پرداختی‌ها
- **کل سود پرداختی**: فقط سودی که به بانک می‌دهید
- **تاریخ پایان**: چه زمانی وام تمام می‌شود
- **هزینه فرصت سپرده**: سودی که از سپرده قبلی از دست می‌دهید

#### تحلیل و توصیه:
- ارزیابی هوشمند وام (خوب، متوسط، بد)
- توصیه برای گرفتن یا نگرفتن وام
- نسبت هزینه به دریافتی
- تأثیر هزینه‌های پنهان

#### جدول اقساط:
- جدول کامل ماه به ماه
- تفکیک اصل و سود در هر قسط
- مانده بدهی در هر ماه

## 🛠️ ساختار پروژه

```
debt/
├── index.html          # صفحه اصلی HTML
├── style.css          # استایل‌ها و طراحی
├── script.js          # منطق برنامه و محاسبات
└── README.md          # مستندات (این فایل)
```

### فایل‌ها:

#### `index.html`
- ساختار HTML صفحه
- فرم ورودی با تمام فیلدها
- بخش نمایش نتایج
- بخش تاریخچه محاسبات
- تنظیمات RTL و فارسی

#### `style.css`
- استفاده از فونت Vazirmatn از CDN
- طراحی مدرن و زیبا با گرادیانت
- استایل‌های RTL
- ریسپانسیو برای موبایل
- انیمیشن‌ها و ترانزیشن‌ها
- رنگ‌بندی حرفه‌ای

#### `script.js`
- کلاس `LoanDatabase`: مدیریت IndexedDB
  - ذخیره محاسبات
  - بازیابی تاریخچه
  - حذف و پاک‌سازی
- کلاس `LoanCalculator`: منطق اصلی
  - محاسبه سود متناقص
  - محاسبه سود ثابت
  - محاسبه APR واقعی
  - محاسبه هزینه فرصت
  - تأثیر تورم
  - تولید جدول اقساط
  - مدیریت UI

## 💡 نحوه محاسبات

### سود متناقص (Reducing Balance):
در این روش، سود روی مانده بدهی محاسبه می‌شود. با پرداخت هر قسط، مانده بدهی کم می‌شود و سود قسط بعدی نیز کمتر می‌شود.

```
قسط ماهانه = P × [r × (1 + r)^n] / [(1 + r)^n - 1]

P: اصل وام
r: نرخ ماهانه
n: تعداد ماه‌ها
```

### سود ثابت (Flat Rate):
سود کل دوره از ابتدا محاسبه و به اصل وام اضافه می‌شود، سپس کل مبلغ به تعداد ماه‌ها تقسیم می‌شود.

```
سود کل = P × نرخ سالانه × (تعداد ماه / 12)
قسط ماهانه = (P + سود کل) / تعداد ماه‌ها
```

### نرخ سود واقعی (APR):
نرخ واقعی با در نظر گرفتن تمام هزینه‌ها محاسبه می‌شود:

```
APR = (کل پرداختی - دریافتی واقعی) / (دریافتی واقعی × مدت به سال) × 100
```

### هزینه فرصت سپرده:
ارزش واقعی پول سپرده‌گذاری شده با در نظر گرفتن تورم:

```
هزینه فرصت = سپرده × [1 - (1 + نرخ تورم ماهانه)^(-مدت)]
```

## 🔧 تکنولوژی‌ها

- **HTML5**: ساختار صفحه
- **CSS3**: استایل و طراحی
  - Flexbox & Grid
  - انیمیشن‌ها
  - گرادیانت‌ها
- **JavaScript (ES6+)**: منطق برنامه
  - کلاس‌ها
  - Async/Await
  - IndexedDB
  - Promise
- **IndexedDB**: ذخیره‌سازی محلی
- **Vazirmatn Font**: فونت فارسی زیبا

## 📱 پشتیبانی از مرورگرها

- ✅ Chrome (آخرین نسخه)
- ✅ Firefox (آخرین نسخه)
- ✅ Safari (آخرین نسخه)
- ✅ Edge (آخرین نسخه)
- ✅ موبایل: Chrome Mobile, Safari Mobile

**نیاز به IndexedDB**: تمام مرورگرهای مدرن پشتیبانی می‌کنند

## 🎨 ویژگی‌های طراحی

- **فونت Vazirmatn**: برای تمام متون، دکمه‌ها و input‌ها
- **RTL**: کامل راست به چپ
- **رنگ‌بندی**: پالت رنگی حرفه‌ای و مدرن
- **ریسپانسیو**: سازگار با موبایل، تبلت و دسکتاپ
- **انیمیشن‌ها**: انیمیشن‌های نرم برای نمایش اعداد
- **گرادیانت**: پس‌زمینه‌های زیبا با گرادیانت

## 📊 مثال استفاده

### سناریو 1: وام 100 میلیون تومانی
- مبلغ وام: 100,000,000 تومان
- سپرده قبلی: 20,000,000 تومان (6 ماه)
- نرخ سود: 18% سالانه
- مدت: 60 ماه
- کارمزد: 2%
- سود متناقص

**نتایج نمونه:**
- دریافتی واقعی: ~98,000,000 تومان
- قسط ماهانه: ~2,100,000 تومان
- کل بازپرداخت: ~126,000,000 تومان
- نرخ واقعی: ~20-22%

### سناریو 2: وام کوچک 30 میلیونی
- مبلغ وام: 30,000,000 تومان
- بدون سپرده قبلی
- نرخ سود: 15% سالانه
- مدت: 24 ماه
- کارمزد: 1%

## 🔒 امنیت و حریم خصوصی

- ✅ تمام محاسبات در مرورگر انجام می‌شود
- ✅ هیچ داده‌ای به سرور ارسال نمی‌شود
- ✅ ذخیره‌سازی محلی در دستگاه خودتان
- ✅ بدون نیاز به ثبت‌نام یا ورود
- ✅ متن‌باز و قابل بررسی

## 🤝 مشارکت

برای مشارکت در پروژه:

1. پروژه را Fork کنید
2. یک برنچ جدید بسازید (`git checkout -b feature/amazing-feature`)
3. تغییرات خود را commit کنید (`git commit -m 'Add amazing feature'`)
4. برنچ را push کنید (`git push origin feature/amazing-feature`)
5. یک Pull Request باز کنید

## 📝 لایسنس

این پروژه تحت لایسنس MIT منتشر شده است. می‌توانید آزادانه از آن استفاده کنید.

## 🐛 گزارش باگ

اگر مشکلی پیدا کردید یا پیشنهادی دارید:
- یک Issue در GitHub باز کنید
- توضیحات کامل بدهید
- اگر ممکن است، اسکرین‌شات بفرستید

## 📞 تماس و پشتیبانی

- GitHub Issues: برای گزارش باگ و درخواست ویژگی
- Pull Requests: برای مشارکت در کد

## 🎓 یادگیری

این پروژه نمونه خوبی است برای یادگیری:
- کار با IndexedDB
- محاسبات مالی در JavaScript
- طراحی RTL
- کار با فونت‌های فارسی
- ساخت Progressive Web App

## 🔮 ویژگی‌های آینده

- [ ] مقایسه چند وام با هم
- [ ] نمودارهای تعاملی
- [ ] خروجی PDF
- [ ] اشتراک‌گذاری نتایج
- [ ] محاسبه بازپرداخت زودهنگام
- [ ] پیشنهادات بانک‌های مختلف
- [ ] حالت تاریک (Dark Mode)
- [ ] PWA با قابلیت نصب

## ⚠️ توجه

این ابزار صرفاً برای تخمین و کمک به تصمیم‌گیری است. برای اطلاعات دقیق و قطعی، حتماً با بانک مشورت کنید. محاسبات ممکن است با شرایط واقعی بانک‌ها کمی متفاوت باشد.

---

**ساخته شده با ❤️ برای مردم ایران**

اگر این ابزار به شما کمک کرد، ستاره بدهید ⭐

